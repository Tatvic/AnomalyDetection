context("debug")

test_that("debug", {
  test_data <- structure(list(date = structure(c(1435708800, 1435795200, 1435881600, 
                                    1435968000, 1436054400, 1436140800, 1436227200, 1436313600, 1436400000, 
                                    1436486400, 1436572800, 1436659200, 1436745600, 1436832000, 1436918400, 
                                    1437004800, 1437091200, 1437177600, 1437264000, 1437350400, 1437436800, 
                                    1437523200, 1437609600, 1437696000, 1437782400, 1437868800, 1437955200, 
                                    1438041600, 1438128000, 1438214400, 1438300800, 1438387200, 1438473600, 
                                    1438560000, 1438646400, 1438732800, 1438819200, 1438905600, 1438992000, 
                                    1439078400, 1439164800, 1439251200, 1439337600, 1439424000, 1439510400, 
                                    1439596800, 1439683200, 1439769600, 1439856000, 1439942400, 1440028800, 
                                    1440115200, 1440201600, 1440288000, 1440374400, 1440460800, 1440547200, 
                                    1440633600, 1440720000, 1440806400, 1440892800, 1440979200, 1441065600, 
                                    1441152000, 1441238400, 1441324800, 1441411200, 1441497600, 1441584000, 
                                    1441670400, 1441756800, 1441843200, 1441929600, 1442016000, 1442102400, 
                                    1442188800, 1442275200, 1442361600, 1442448000, 1442534400, 1442620800, 
                                    1442707200, 1442793600, 1442880000, 1442966400, 1443052800, 1443139200, 
                                    1443225600, 1443312000, 1443398400, 1443484800, 1443571200, 1443657600, 
                                    1443744000, 1443830400, 1443916800, 1444003200, 1444089600, 1444176000, 
                                    1444262400, 1444348800, 1444435200, 1444521600, 1444608000, 1444694400, 
                                    1444780800, 1444867200, 1444953600, 1445040000, 1445126400, 1445212800, 
                                    1445299200, 1445385600, 1445472000, 1445558400, 1445644800, 1445731200, 
                                    1445817600, 1445904000, 1445990400, 1446076800, 1446163200, 1446249600, 
                                    1446336000, 1446422400, 1446508800, 1446595200, 1446681600, 1446768000, 
                                    1446854400, 1446940800, 1447027200, 1447113600, 1447200000, 1447286400, 
                                    1447372800, 1447459200, 1447545600, 1447632000, 1447718400, 1447804800, 
                                    1447891200, 1447977600, 1448064000, 1448150400, 1448236800, 1448323200, 
                                    1448409600, 1448496000, 1448582400, 1448668800, 1448755200, 1448841600, 
                                    1448928000, 1449014400, 1449100800, 1449187200, 1449273600, 1449360000, 
                                    1449446400, 1449532800, 1449619200, 1449705600, 1449792000, 1449878400, 
                                    1449964800, 1450051200, 1450137600, 1450224000, 1450310400, 1450396800, 
                                    1450483200, 1450569600, 1450656000, 1450742400, 1450828800, 1450915200, 
                                    1451001600, 1451088000, 1451174400, 1451260800, 1451347200, 1451433600, 
                                    1451520000, 1451606400, 1451692800, 1451779200, 1451865600, 1451952000, 
                                    1452038400, 1452124800, 1452211200, 1452297600, 1452384000, 1452470400, 
                                    1452556800, 1452643200, 1452729600, 1452816000, 1452902400, 1452988800, 
                                    1453075200, 1453161600, 1453248000, 1453334400, 1453420800, 1453507200, 
                                    1453593600, 1453680000, 1453766400, 1453852800, 1453939200, 1454025600, 
                                    1454112000, 1454198400, 1454284800, 1454371200, 1454457600, 1454544000, 
                                    1454630400, 1454716800, 1454803200, 1454889600, 1454976000, 1455062400, 
                                    1455148800, 1455235200, 1455321600, 1455408000, 1455494400, 1455580800, 
                                    1455667200, 1455753600, 1455840000, 1455926400, 1456012800, 1456099200, 
                                    1456185600, 1456272000, 1456358400, 1456444800, 1456531200, 1456617600, 
                                    1456704000, 1456790400, 1456876800, 1456963200, 1457049600, 1457136000, 
                                    1457222400, 1457308800, 1457395200, 1457481600, 1457568000, 1457654400, 
                                    1457740800, 1457827200, 1457913600, 1.458e+09, 1458086400, 1458172800, 
                                    1458259200, 1458345600, 1458432000, 1458518400, 1458604800, 1458691200, 
                                    1458777600, 1458864000, 1458950400, 1459036800, 1459123200, 1459209600, 
                                    1459296000, 1459382400, 1459468800, 1459555200, 1459641600, 1459728000, 
                                    1459814400, 1459900800, 1459987200, 1460073600, 1460160000, 1460246400, 
                                    1460332800, 1460419200, 1460505600, 1460592000, 1460678400, 1460764800, 
                                    1460851200, 1460937600, 1461024000, 1461110400, 1461196800, 1461283200, 
                                    1461369600, 1461456000, 1461542400, 1461628800, 1461715200, 1461801600, 
                                    1461888000, 1461974400, 1462060800, 1462147200, 1462233600, 1462320000, 
                                    1462406400, 1462492800, 1462579200, 1462665600, 1462752000, 1462838400, 
                                    1462924800, 1463011200, 1463097600, 1463184000, 1463270400, 1463356800, 
                                    1463443200, 1463529600, 1463616000, 1463702400, 1463788800, 1463875200, 
                                    1463961600, 1464048000, 1464134400, 1464220800, 1464307200, 1464393600, 
                                    1464480000, 1464566400, 1464652800, 1464739200, 1464825600, 1464912000, 
                                    1464998400, 1465084800, 1465171200, 1465257600, 1465344000, 1465430400, 
                                    1465516800, 1465603200, 1465689600, 1465776000, 1465862400, 1465948800, 
                                    1466035200, 1466121600, 1466208000, 1466294400, 1466380800, 1466467200, 
                                    1466553600, 1466640000, 1466726400, 1466812800, 1466899200, 1466985600, 
                                    1467072000, 1467158400, 1467244800, 1467331200, 1467417600, 1467504000, 
                                    1467590400, 1467676800, 1467763200, 1467849600, 1467936000, 1468022400, 
                                    1468108800, 1468195200, 1468281600, 1468368000, 1468454400, 1468540800, 
                                    1468627200, 1468713600, 1468800000, 1468886400, 1468972800, 1469059200, 
                                    1469145600, 1469232000, 1469318400, 1469404800, 1469491200, 1469577600, 
                                    1469664000, 1469750400, 1469836800, 1469923200, 1470009600, 1470096000, 
                                    1470182400, 1470268800, 1470355200, 1470441600, 1470528000, 1470614400, 
                                    1470700800, 1470787200, 1470873600, 1470960000, 1471046400, 1471132800, 
                                    1471219200, 1471305600, 1471392000, 1471478400, 1471564800, 1471651200, 
                                    1471737600, 1471824000, 1471910400, 1471996800, 1472083200, 1472169600, 
                                    1472256000, 1472342400, 1472428800, 1472515200, 1472601600, 1472688000, 
                                    1472774400, 1472860800, 1472947200, 1473033600, 1473120000, 1473206400, 
                                    1473292800, 1473379200, 1473465600, 1473552000, 1473638400, 1473724800, 
                                    1473811200, 1473897600, 1473984000, 1474070400, 1474156800, 1474243200, 
                                    1474329600, 1474416000, 1474502400, 1474588800, 1474675200, 1474761600, 
                                    1474848000, 1474934400, 1475020800, 1475107200, 1475193600, 1475280000, 
                                    1475366400, 1475452800, 1475539200, 1475625600, 1475712000, 1475798400, 
                                    1475884800, 1475971200, 1476057600, 1476144000, 1476230400, 1476316800, 
                                    1476403200, 1476489600, 1476576000, 1476662400, 1476748800, 1476835200, 
                                    1476921600, 1477008000, 1477094400, 1477180800, 1477267200, 1477353600, 
                                    1477440000, 1477526400, 1477612800, 1477699200, 1477785600, 1477872000, 
                                    1477958400, 1478044800, 1478131200, 1478217600, 1478304000, 1478390400, 
                                    1478476800, 1478563200, 1478649600, 1478736000, 1478822400, 1478908800, 
                                    1478995200, 1479081600, 1479168000, 1479254400, 1479340800, 1479427200, 
                                    1479513600, 1479600000, 1479686400, 1479772800, 1479859200, 1479945600, 
                                    1480032000, 1480118400, 1480204800, 1480291200, 1480377600, 1480464000, 
                                    1480550400, 1480636800, 1480723200, 1480809600, 1480896000, 1480982400, 
                                    1481068800, 1481155200, 1481241600, 1481328000, 1481414400, 1481500800, 
                                    1481587200, 1481673600, 1481760000, 1481846400, 1481932800, 1482019200, 
                                    1482105600, 1482192000, 1482278400, 1482364800, 1482451200, 1482537600, 
                                    1482624000, 1482710400, 1482796800, 1482883200, 1482969600, 1483056000, 
                                    1483142400, 1483228800, 1483315200, 1483401600, 1483488000, 1483574400, 
                                    1483660800, 1483747200, 1483833600, 1483920000, 1484006400, 1484092800, 
                                    1484179200, 1484265600, 1484352000, 1484438400, 1484524800, 1484611200, 
                                    1484697600, 1484784000, 1484870400, 1484956800, 1485043200, 1485129600, 
                                    1485216000, 1485302400, 1485388800, 1485475200, 1485561600, 1485648000, 
                                    1485734400, 1485820800, 1485907200, 1485993600, 1486080000, 1486166400, 
                                    1486252800, 1486339200, 1486425600, 1486512000, 1486598400, 1486684800, 
                                    1486771200, 1486857600, 1486944000, 1487030400), class = c("POSIXct", 
                                                                                               "POSIXt"), tzone = "GMT"), views = c(4797, 4206, 3133, 2225, 
                                                                                                                                    2250, 4076, 4277, 4171, 3832, 3524, 2338, 2743, 4136, 3972, 3819, 
                                                                                                                                    3900, 3406, 2091, 2189, 3545, 4135, 3792, 3862, 3694, 2833, 3090, 
                                                                                                                                    5049, 4677, 4310, 4020, 3584, 2313, 2349, 3684, 4854, 5179, 4456, 
                                                                                                                                    4028, 2790, 3088, 3988, 4147, 4212, 4007, 3591, 2434, 2472, 3845, 
                                                                                                                                    4364, 4193, 4023, 3436, 2424, 2433, 4058, 4437, 4185, 4230, 3548, 
                                                                                                                                    2375, 2278, 4061, 4266, 4241, 3970, 3421, 2263, 2331, 3421, 4117, 
                                                                                                                                    4405, 4197, 3863, 2534, 2828, 4303, 4221, 3841, 3847, 3613, 2403, 
                                                                                                                                    2395, 3910, 4026, 4146, 3828, 3559, 2275, 2296, 4119, 4068, 4197, 
                                                                                                                                    3837, 3447, 2235, 2307, 3858, 4589, 4276, 4198, 3847, 2503, 2645, 
                                                                                                                                    3960, 4109, 4263, 4031, 3734, 2377, 2445, 3892, 3834, 3642, 3403, 
                                                                                                                                    3299, 2210, 2420, 3959, 3851, 3863, 4021, 3501, 2168, 2289, 3852, 
                                                                                                                                    4040, 3960, 4131, 3609, 2559, 2572, 3693, 3468, 3520, 4040, 3351, 
                                                                                                                                    2124, 2294, 3597, 3777, 4314, 3972, 3481, 2310, 2479, 3669, 3510, 
                                                                                                                                    3424, 3035, 2859, 2064, 2304, 3557, 3695, 3543, 3538, 3211, 2062, 
                                                                                                                                    2316, 3619, 3742, 3762, 3691, 3368, 2337, 2667, 4971, 3929, 3800, 
                                                                                                                                    3631, 3201, 2070, 2009, 3146, 3141, 2850, 2246, 1779, 1933, 1890, 
                                                                                                                                    2763, 2901, 2783, 2076, 1948, 2156, 2155, 3710, 4114, 4213, 4205, 
                                                                                                                                    3786, 2588, 2673, 4121, 4139, 4607, 4386, 3873, 2790, 2703, 3937, 
                                                                                                                                    4480, 4711, 4435, 4044, 2835, 2925, 4210, 3969, 4335, 4327, 4146, 
                                                                                                                                    2685, 2832, 4254, 5013, 5109, 4416, 4006, 2614, 2708, 4053, 4246, 
                                                                                                                                    4334, 4274, 3971, 2620, 2576, 3875, 4196, 4187, 4292, 4020, 2638, 
                                                                                                                                    2632, 4224, 4378, 4428, 4364, 3910, 2635, 2761, 4188, 4284, 4110, 
                                                                                                                                    4119, 3913, 2583, 2617, 4051, 4364, 4714, 4939, 4275, 2608, 2859, 
                                                                                                                                    10509, 5911, 5071, 4715, 4100, 2560, 2690, 4429, 4182, 4159, 
                                                                                                                                    3896, 3386, 2471, 2306, 3712, 4201, 4402, 4107, 3644, 2775, 2857, 
                                                                                                                                    4188, 4173, 4685, 3923, 3661, 2449, 2925, 4154, 4381, 4319, 4252, 
                                                                                                                                    3668, 2398, 2420, 3848, 4059, 3901, 3912, 3598, 2362, 2421, 3756, 
                                                                                                                                    3820, 3906, 4176, 3544, 2253, 2320, 3722, 3836, 3733, 3738, 3367, 
                                                                                                                                    2265, 2434, 4106, 4021, 4003, 4123, 3575, 2366, 2588, 3841, 4310, 
                                                                                                                                    3938, 3974, 3510, 2339, 2522, 4052, 3884, 3933, 4461, 3397, 2216, 
                                                                                                                                    2215, 3333, 3975, 3968, 4093, 3562, 2351, 2380, 3923, 4137, 4018, 
                                                                                                                                    3899, 3458, 2211, 2355, 3883, 3928, 3993, 4187, 3422, 2207, 2173, 
                                                                                                                                    3899, 3926, 3855, 3894, 3340, 2055, 2209, 3689, 3969, 4466, 3660, 
                                                                                                                                    3167, 1992, 1904, 2938, 3631, 3473, 3468, 3203, 2048, 2098, 3514, 
                                                                                                                                    3504, 3622, 3508, 3075, 2063, 2047, 3668, 3700, 3808, 3558, 3286, 
                                                                                                                                    2080, 2187, 3632, 3907, 4234, 5066, 3716, 2303, 2362, 3672, 3914, 
                                                                                                                                    3780, 3519, 3166, 2090, 2003, 3404, 3577, 3547, 3742, 3328, 2022, 
                                                                                                                                    2024, 3136, 3587, 3669, 3687, 3293, 2231, 2185, 3825, 4280, 3997, 
                                                                                                                                    4131, 3993, 2478, 2877, 4130, 4328, 4309, 3947, 3476, 2429, 2263, 
                                                                                                                                    3154, 4142, 4244, 4123, 3784, 2382, 2427, 3920, 4073, 4084, 3888, 
                                                                                                                                    3881, 2437, 2420, 4429, 4252, 4140, 4107, 3788, 2412, 2457, 4348, 
                                                                                                                                    4212, 4396, 4221, 3995, 2403, 2502, 3886, 4126, 3945, 3985, 3948, 
                                                                                                                                    2323, 2408, 3658, 3686, 4132, 4052, 3686, 2482, 2528, 3998, 4215, 
                                                                                                                                    4166, 4123, 3702, 2468, 3116, 3999, 4121, 4138, 3797, 3356, 2301, 
                                                                                                                                    2540, 3736, 3682, 4103, 3922, 3595, 2380, 2363, 3948, 3928, 3183, 
                                                                                                                                    3567, 3460, 2370, 2659, 3982, 4115, 4283, 4556, 3685, 2527, 2532, 
                                                                                                                                    3935, 3884, 3825, 3376, 3027, 2332, 2430, 3813, 3936, 4015, 3959, 
                                                                                                                                    3651, 2534, 2569, 3823, 4237, 4818, 4349, 3708, 2377, 2448, 3673, 
                                                                                                                                    3693, 3749, 3755, 3243, 2159, 2320, 3459, 3771, 4241, 3530, 2820, 
                                                                                                                                    2117, 1917, 2469, 2857, 3316, 2976, 2715, 1854, 1760, 2799, 3680, 
                                                                                                                                    3956, 4006, 3651, 2387, 2483, 4239, 4616, 4532, 4316, 3973, 2460, 
                                                                                                                                    2487, 4070, 4570, 4835, 4532, 3995, 2607, 2664, 4571, 4745, 4504, 
                                                                                                                                    4089, 3903, 2612, 2650, 4399, 4425, 4295, 4345, 4019, 2739, 2734, 
                                                                                                                                    4328, 4793, 4894, 4593, 4144, 2770, 2947, 4613, 5136)), .Names = c("date", 
                                                                                                                                                                                                       "views"), row.names = c(NA, 595L), class = "data.frame")
  test_data[[1]] <- as.POSIXct(test_data[[1]], tz="UTC")
  ret <- AnomalyDetectionTs(test_data, e_value = TRUE)
})